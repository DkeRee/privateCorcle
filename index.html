<!DOCTYPE html>
<html>
  <head>
	  <title>Corcle</title>
    <link rel = "icon" href = "images/corcle-icon.png">
    <meta property = "og:title" content = "Corcle">
    <meta property = "og:image" content = "https://corcle.dkeree.repl.co/images/corcle-icon.png">
    <meta property = "og:description" content = "A singleplayer escape game! Made with Matter.js.">
    <link rel = "stylesheet" href = "style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body id = "body">
    <div id = "ui">
      <button id = "info">Info</button>
      <button id = "change-log">Change Log</button>
      <button id = "credits">Credits</button>
    </div>
    <div id = "icons">
      <input type = "image" src = "images/discord.png" id = "discord">
    </div>
    <div id = "iframe-div">
      <iframe id = "iframe"></iframe>
    </div>
    <div id = "close-div">
        <button id = "close">X</button>
    </div>
    <div id = "corcle-settings-div">
      <h1 id = "title">Corcle Settings</h1>
      <h2 id = "corcle-color">Corcle Color:</h2>
      <select id = "color-select">
        <option value = "white">White</option>
        <option value = "yellow">Yellow</option>
        <option value = "cyan">Cyan</option>
        <option value = "lime">Lime</option>
        <option value = "#FFA500">Orange</option>
      </select>
    </div>
    <h1 id = "deaths"></h1>
    <h1 id = "level-counter"></h1>
    <script>
      var infoButton = document.getElementById("info");
      var iframeDiv = document.getElementById("iframe-div");
      var iframe = document.getElementById("iframe");
      var closeDiv = document.getElementById("close-div");
      var close = document.getElementById("close");
      var changelogButton = document.getElementById("change-log");
      var creditButton = document.getElementById("credits");
      var buttonFx = new Audio('audio/buttonClick.mp3')
      var discordButton = document.getElementById("discord");

      function renderHTML(file){
        iframe.src = "popup/" + file;
        iframe.addEventListener('load', () => {
            iframeDiv.style.display = 'block';
            closeDiv.style.display = 'block';
        });
      }

      infoButton.addEventListener("click", () => {
        buttonFx.play();
        renderHTML('info.html');
      });

      changelogButton.addEventListener("click", () => {
        buttonFx.play();
        renderHTML('changelog.html');
      });

      creditButton.addEventListener("click", () => {
        buttonFx.play();
        renderHTML('credits.html');
      });

      close.addEventListener("click", () => {
          buttonFx.play();
          iframeDiv.style.display = 'none';
          closeDiv.style.display = 'none';  
      })

      discordButton.addEventListener("click", () => {
        buttonFx.play();
        window.open("https://discord.gg/HQ9uuNdtWS", "_blank");
      });
    </script>
    <script src = "https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.min.js" integrity = "sha512-pi0tSRZdlNRZeANPwdAIHRAYg6gZZV6QlAiyHXn5TYqLzBKE9jlttO/QgYLMhISD6oNv2kPsVelx+n5nw0FqKA==" crossorigin = "anonymous"></script>
	  <script src = "corcle.js"></script>
  </body>
</html>